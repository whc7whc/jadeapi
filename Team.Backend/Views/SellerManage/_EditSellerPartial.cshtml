@model Team.Backend.Models.ViewModels.SellerFullViewModel

<form method="post" id="sellerAuditForm" asp-controller="SellerManage" asp-action="ReviewSeller">
    <div class="modal-header">
        <h5 class="modal-title">審核賣家申請</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>

    <div class="modal-body">
        <input type="hidden" name="SellerId" value="@Model.SellerId" />

        <div class="mb-3">
            <label class="form-label">姓名</label>
            <input type="text" class="form-control" value="@Model.RealName" disabled />
        </div>

        <div class="mb-3">
            <label class="form-label">信箱</label>
            <input type="email" class="form-control" value="@Model.Email" disabled />
        </div>

        <div class="mb-3">
            <label class="form-label">身份證號</label>
            <input type="text" class="form-control" value="@Model.IdNumber" disabled />
        </div>

        <!-- ✅ 新位置：身分證圖片 -->
        <hr />
        <h6 class="text-primary">身分證圖片</h6>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">正面</label><br />
                @{
                    var frontDoc = Model.Documents?.FirstOrDefault(d => d.DocumentType == "frontDoc");
                }
                @if (frontDoc != null && !string.IsNullOrEmpty(frontDoc.FilePath))
                {
                    <img src="@frontDoc.FilePath" class="img-thumbnail" style="max-width: 200px;" />
                }
                else
                {
                    <span class="text-danger">尚未上傳</span>
                }
            </div>

            <div class="col-md-6 mb-3">
                <label class="form-label">反面</label><br />
                @{
                    var backDoc = Model.Documents?.FirstOrDefault(d => d.DocumentType == "backDoc");
                }
                @if (backDoc != null && !string.IsNullOrEmpty(backDoc.FilePath))
                {
                    <img src="@backDoc.FilePath" class="img-thumbnail" style="max-width: 200px;" />
                }
                else
                {
                    <span class="text-danger">尚未上傳</span>
                }
            </div>
        </div>

        <!-- ✅ 新位置：銀行帳戶資訊 -->
        <hr />
        <h6 class="text-primary">銀行帳戶資訊</h6>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">銀行名稱</label>
                <input type="text" class="form-control" value="@Model.BankName" disabled />
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">銀行代碼</label>
                <input type="text" class="form-control" value="@Model.BankCode" disabled />
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">帳戶名稱</label>
                <input type="text" class="form-control" value="@Model.AccountName" disabled />
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label">帳戶號碼</label>
                <input type="text" class="form-control" value="@Model.AccountNumber" disabled />
            </div>
            @* <div class="col-md-12 mb-3">
                <label class="form-label">銀行帳戶驗證</label><br />
                @if (Model.SellerBankAccountIsVerified)
                {
                    <span class="badge bg-success">已驗證</span>
                }
                else
                {
                    <span class="badge bg-warning text-dark">未驗證</span>
                }
            </div> *@

            <div class="col-md-12 mb-3">
                <label class="form-label">銀行證明圖片</label><br />
                @{
                    var bankPhoto = Model.Documents?.FirstOrDefault(d => d.DocumentType == "BankPhoto");
                }
                @if (bankPhoto != null && !string.IsNullOrEmpty(bankPhoto.FilePath))
                {
                    <img src="@bankPhoto.FilePath" class="img-thumbnail" style="max-width: 200px;" />
                }
                else
                {
                    <span class="text-danger">尚未上傳</span>
                }
            </div>
        </div>

        <!-- ✅ 審核欄位與申請時間並排 -->
        <hr />
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label">審核結果</label>
                <select class="form-select" id="applicationStatus" asp-for="ApplicationStatus" onchange="toggleRejectionReason()">
                    <option value="待審核">待審核</option>
                    <option value="已通過">已通過</option>
                    <option value="已拒絕">已拒絕</option>
                    <option value="重新申請">重新申請</option>
                </select>
            </div>

            <div class="col-md-6 mb-3">
                <label class="form-label">申請時間</label>
                <input type="text" class="form-control" value="@Model.SellerAppliedAt.ToString("yyyy-MM-dd HH:mm")" disabled />
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">拒絕原因（可選）</label>
            <textarea class="form-control" name="AuditNote" rows="3" placeholder="請輸入原因..."></textarea>
        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
        <button type="submit" class="btn btn-primary">提交審核</button>
    </div>
</form>
